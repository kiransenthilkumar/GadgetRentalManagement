{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block content %}
<section class="bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-2xl p-8 md:p-12 shadow-lg mb-10">
    <div class="md:flex md:items-center md:justify-between gap-8">
        <div class="md:w-2/3 space-y-4">
            <p class="uppercase tracking-wide text-sm font-semibold text-blue-100">Gadget Rentals</p>
            <h1 class="text-3xl md:text-4xl font-bold leading-tight">
                Rent premium gadgets with smart pricing & instant availability.
            </h1>
            <p class="text-blue-50 md:text-lg">
                Cameras, drones, consoles and more. Transparent deposits, quick checkout, easy returns.
            </p>

            <div class="flex flex-wrap gap-3 pt-2">
                <a href="{{ url_for('gadgets') }}"
                    class="bg-white text-blue-700 font-semibold px-5 py-2.5 rounded-lg shadow hover:-translate-y-0.5 transform transition">
                    Browse Gadgets
                </a>

                <a href="{{ url_for('orders') if current_user.is_authenticated else url_for('register') }}"
                    class="bg-blue-700/30 border border-white/40 text-white font-semibold px-5 py-2.5 rounded-lg hover:bg-blue-700/50 transition">
                    Get Started
                </a>
            </div>
        </div>

        <div class="hidden md:block md:w-1/3">
            <div class="bg-white/10 backdrop-blur-lg rounded-xl p-4 shadow-lg border border-white/20">
                <p class="text-sm text-blue-100 mb-3 font-semibold">Highlights</p>
                <ul class="space-y-2 text-blue-50 text-sm">
                    <li>✓ Real-time price calc with promo codes</li>
                    <li>✓ 50% deposit on high-value gear</li>
                    <li>✓ Mock payments (card/UPI/cash)</li>
                    <li>✓ Admin approvals & refunds</li>
                </ul>
            </div>
        </div>
    </div>
</section>

<section class="mb-10">
    <div class="flex items-center justify-between mb-4">
        <h2 class="text-xl font-bold text-gray-800">Featured Gadgets</h2>
        <a href="{{ url_for('gadgets') }}" class="text-blue-600 hover:underline text-sm font-semibold">View all</a>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for g in featured or [] %}
        <div class="bg-white border border-gray-200 rounded-xl shadow hover:shadow-lg transition overflow-hidden">
            <img src="{{ url_for('static', filename='default_gadget.png') }}" 
                 alt="{{ g.name }}" 
                 class="w-full h-44 object-cover">

            <div class="p-4 space-y-2">
                <div class="flex items-center justify-between">
                    <p class="text-xs uppercase tracking-wide text-gray-500">{{ g.category }}</p>
                    <span class="text-yellow-500 text-sm">★ {{ '%.1f'|format(g.avg_rating) }}</span>
                </div>

                <h3 class="text-lg font-semibold text-gray-800">{{ g.name }}</h3>

                <p class="text-gray-600 text-sm line-clamp-2">
                    {{ g.description or 'Great condition, ready to rent.' }}
                </p>

                <div class="flex items-center justify-between pt-2">
                    <p class="text-blue-600 font-bold">₹ {{ '%.0f'|format(g.price_per_day) }}/day</p>
                    <a href="{{ url_for('gadget_detail', gadget_id=g.id) }}" class="text-sm text-blue-600 hover:underline">
                        View
                    </a>
                </div>
            </div>
        </div>

        {% else %}
        <p class="col-span-full text-center text-gray-500">No featured gadgets yet.</p>
        {% endfor %}
    </div>
</section>

<section class="mb-10">
    <h2 class="text-xl font-bold text-gray-800 mb-4">Browse by Category</h2>

    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
        {% for cat in categories or ['Cameras', 'Drones', 'Consoles', 'Audio'] %}
        <a href="{{ url_for('gadgets', category=cat) }}"
           class="bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition p-4 text-center">
            <p class="font-semibold text-gray-800">{{ cat }}</p>
            <p class="text-xs text-gray-500">Explore {{ cat }}</p>
        </a>
        {% endfor %}
    </div>
</section>

<section class="mb-10">
    <h2 class="text-xl font-bold text-gray-800 mb-4">Why Rent With Us?</h2>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        {% set perks = [
            {'title':'Transparent Pricing','desc':'Real-time totals, deposits, and promo codes visible upfront.'},
            {'title':'Flexible Payments','desc':'Mock payments: card, UPI, or cash on pickup with receipts.'},
            {'title':'Reliable Returns','desc':'Admin-managed approvals, returns, and deposit refunds.'}
        ] %}

        {% for perk in perks %}
        <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-5">
            <h3 class="font-semibold text-gray-800 mb-2">{{ perk.title }}</h3>
            <p class="text-gray-600 text-sm">{{ perk.desc }}</p>
        </div>
        {% endfor %}
    </div>
</section>

{% endblock %}
