{% extends "admin/admin_base.html" %}

{% block title %}Add Coupon{% endblock %}

{% block content %}

<h2 class="text-2xl font-bold mb-6 text-gray-900">Create Discount Coupon</h2>
<p class="text-sm text-gray-500 mb-6">
    Define a promo code that customers can apply in their cart to receive a percentage discount.
</p>

<form method="POST" action="{{ url_for('admin_add_coupon') }}" class="bg-white p-6 rounded-xl shadow-md border border-gray-200 max-w-xl space-y-4">
    <div>
        <label for="code" class="block text-sm font-semibold text-gray-700 mb-1">Coupon Code</label>
        <input type="text" id="code" name="code"
               placeholder="e.g. WELCOME10"
               class="w-full border rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
               required>
        <p class="text-xs text-gray-500 mt-1">This is the code users will type in the cart. It is case-insensitive.</p>
    </div>

    <div>
        <label for="description" class="block text-sm font-semibold text-gray-700 mb-1">Description (optional)</label>
        <input type="text" id="description" name="description"
               placeholder="Short note for admin (e.g. New user offer)"
               class="w-full border rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div>
            <label for="discount_percent" class="block text-sm font-semibold text-gray-700 mb-1">Discount (%)</label>
            <input type="number" id="discount_percent" name="discount_percent"
                   min="1" max="100" step="0.1"
                   placeholder="e.g. 10"
                   class="w-full border rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                   required>
        </div>

        <div>
            <label for="max_uses" class="block text-sm font-semibold text-gray-700 mb-1">Max Uses (optional)</label>
            <input type="number" id="max_uses" name="max_uses"
                   min="1"
                   placeholder="Leave blank for unlimited"
                   class="w-full border rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
    </div>

    <div>
        <label for="expires_at" class="block text-sm font-semibold text-gray-700 mb-1">Expiry Date (optional)</label>
        <input type="date" id="expires_at" name="expires_at"
               class="w-full border rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        <p class="text-xs text-gray-500 mt-1">After this date the coupon will no longer be valid.</p>
    </div>

    <div class="flex items-center justify-end gap-3 pt-2">
        <a href="{{ url_for('admin_coupons') }}" class="text-sm text-gray-600 hover:text-gray-800">Cancel</a>
        <button type="submit"
                class="bg-blue-600 text-white px-5 py-2 rounded-md text-sm font-semibold hover:bg-blue-700">
            Save Coupon
        </button>
    </div>
</form>

{% endblock %}


